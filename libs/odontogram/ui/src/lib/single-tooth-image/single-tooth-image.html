@let inputTooth = tooth();
<div
  (click)="selected.next()"
  (keydown.enter)="selected.next()"
  [class.active]="active"
  [class.withTreatment]="inputTooth.treatments?.length"
  [class]="'tooth-' + inputTooth.number"
  class="tooth"
  tabindex="0"
>
  <div
    [class]="statusClass.get(status)"
    *ngLet="getToothZoneStatus(toothZones.LATERAL) as status"
    class="lateral"
  >
    <img
      (load)="imageLoaded()"
      [ngStyle]="{
        maskImage: 'url(' + toothImages.root_mask + ')',
        maskSize: '100%, 100%',
        maskMode: 'alpha',
      }"
      [src]="toothImages.lateral"
      #img
      alt="Tooth Lateral {{ inputTooth.number }}"
    />
    <!-- <img
      (load)="imageLoaded()"
      [src]="toothImages.lateral"
      [style.visibility]="'hidden'"
      #img
      alt="Tooth Lateral {{ inputTooth.number }}"
    /> -->
    <div
      [class]="statusClass.get(status)"
      *ngLet="getToothImplantStatus() as status"
      class="implant"
    ></div>
    <div
      [class]="statusClass.get(status)"
      *ngLet="getToothExtractionStatus() as status"
      class="cross"
    ></div>
  </div>
  <div
    [ngStyle]="{
      maskImage: 'url(' + toothImages.crown_mask + ')',
      maskSize: '100%, 100%',
      maskMode: 'alpha',
    }"
    class="crown"
  >
    <!-- <div class="crown"> -->
    <img
      (load)="imageLoaded()"
      [src]="toothImages.crown"
      #img
      alt="Crown of tooth {{ inputTooth.number }}"
    />
    <div
      [class]="statusClass.get(status)"
      *ngLet="getToothZoneStatus(toothZones.TOP) as status"
      class="innerSquare top"
    ></div>
    <div
      [class]="statusClass.get(status)"
      *ngLet="getToothZoneStatus(toothZones.RIGHT) as status"
      class="innerSquare right"
    ></div>
    <div
      [class]="statusClass.get(status)"
      *ngLet="getToothZoneStatus(toothZones.BOTTOM) as status"
      class="innerSquare bottom"
    ></div>
    <div
      [class]="statusClass.get(status)"
      *ngLet="getToothZoneStatus(toothZones.LEFT) as status"
      class="innerSquare left"
    ></div>
    <div
      [class.smaller]="toInt(inputTooth.number.slice(1)) < 4"
      [class]="statusClass.get(status)"
      *ngLet="getToothZoneStatus(toothZones.CENTER) as status"
      class="middle"
    ></div>
  </div>
  @if (showNumber) {
    <div class="number">{{ inputTooth.number }}</div>
  }
</div>
